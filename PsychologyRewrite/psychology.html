<!doctype html>
<html lang="en">
    <head>
    <link rel="icon" type="image/png" href="/HomeRewrite/clearentrylogo.png" />
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>ClearEntry Psychology</title>
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
            rel="stylesheet"
        />
        <script src="https://unpkg.com/lucide@latest"></script>
        <script src="/Shared/auth-config.js"></script>
        <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
        <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
        <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>
        <link rel="stylesheet" href="/DashboardRewrite/dashboard.css" />
        <link rel="stylesheet" href="/PsychologyRewrite/psychology.css" />
    </head>
    <body>
        <div class="app">
            <aside class="sidebar">
                <div class="sidebar-brand">
                    <a class="brand-title" href="/" style="color: inherit; text-decoration: none;">ClearEntry</a>
                </div>
                <nav class="sidebar-nav">
                    <div class="nav-section">
                        <p class="nav-label">Overview</p>
                        <a class="nav-item" href="/DashboardRewrite/dashboard.html"
                            >Dashboard</a
                        >
                        <a class="nav-item" href="/EntriesRewrite/Entries.html"
                            >Journal</a
                        >
                    </div>
                    <div class="nav-section">
                        <p class="nav-label">Daily</p>
                        <a class="nav-item" href="/JournalRewrite/journal.html"
                            >Notebook</a
                        >
                        <a
                            class="nav-item"
                            href="/PreTradeRewrite/pretrade.html"
                            >Pre Execution</a
                        >
                        <a
                            class="nav-item is-active"
                            href="/PsychologyRewrite/psychology.html"
                            >Psychology</a
                        >
                        <a
                            class="nav-item"
                            href="/TradeLoggingRewrite/tradelogging.html"
                            >Trade Logging</a
                        >
                    </div>
                    <div class="nav-section">
                        <p class="nav-label">Analytics</p>
                        <a class="nav-item" href="/AnalyticsRewrite/analytics.html"
                            >Analytics</a
                        >
                        <a
                            class="nav-item"
                            href="/ConsistencyRewrite/consistency.html"
                            >Consistency</a
                        >
                        <button class="nav-item nav-item-parent" type="button">
                            My Reports
                            <span class="nav-caret">▾</span>
                        </button>
                        <div class="nav-sub">
                            <a
                                class="nav-sub-item"
                                href="/ReportsRewrite/reports.html?view=overview"
                                >Analysis Overview</a
                            >
                            <a
                                class="nav-sub-item"
                                href="/ReportsRewrite/reports.html?view=smart"
                                >Smart Analysis</a
                            >
                        </div>
                    </div>
                    <div class="nav-section">
                        <p class="nav-label">Account</p>
                        <a class="nav-item" href="/ProfileRewrite/profile.html"
                            >Profile</a
                        >
                        <a class="nav-item" href="/SupportRewrite/support.html"
                            >Support</a
                        >
                        <a
                            class="nav-item"
                            href="/UpdateLogRewrite/updatelog.html"
                            >Update Log</a
                        >
                    </div>
                </nav>
            </aside>

            <main class="main">
                <header class="topbar">
    <link rel="icon" type="image/png" href="/HomeRewrite/clearentrylogo.png" />
                    <div class="mobile-nav">
                        <button
                            class="btn btn-ghost mobile-nav-toggle"
                            type="button"
                            aria-expanded="false"
                        >
                            Menu
                            <i data-lucide="chevron-down"></i>
                        </button>
                        <div class="mobile-nav-menu" id="mobile-nav-menu"></div>
                    </div>
                    <div class="breadcrumbs">
                        <span class="crumb">Analytics</span>
                        <span class="crumb-sep">›</span>
                        <span class="crumb is-current">Psychology</span>
                    </div>
                    <div class="topbar-actions">
                        <button class="btn btn-ghost" id="psychology-refresh">
                            Refresh
                        </button>
                        <button class="btn btn-primary" id="action-add-cta">
                            + Add Action
                        </button>
                        <button class="btn btn-ghost" id="theme-toggle">
                            Dark mode
                        </button>
                        <div class="avatar">
                            <div class="avatar-dot"></div>
                        </div>
                    </div>
                </header>

                <section class="page">
                    <div class="page-header">
                        <div>
                            <h1>Psychology</h1>
                            <p class="subtle">
                                Track mindset health, emotional trends, and your
                                trading psychology plan.
                            </p>
                        </div>
                        <div class="header-actions">
                            <span class="chip chip-neutral"
                                >Powered by your strategies</span
                            >
                        </div>
                    </div>

                    <div class="stats-grid psychology-stats">
                        <div class="card stat-card">
                            <div class="stat-header">
                                <p class="stat-title">Psychology Rating</p>
                                <p class="stat-subtitle">Overall trend</p>
                            </div>
                            <div class="stat-value" id="psych-rating">—</div>
                            <div class="stat-foot">
                                <span class="chip chip-neutral" id="rating-trend"
                                    >No data yet</span
                                >
                            </div>
                        </div>
                        <div class="card stat-card">
                            <div class="stat-header">
                                <p class="stat-title">Emotional Balance</p>
                                <p class="stat-subtitle">Positive vs negative</p>
                            </div>
                            <div class="stat-value" id="emotion-balance">—</div>
                            <div class="stat-foot">
                                <span class="chip chip-neutral" id="balance-note"
                                    >Based on trade emotions</span
                                >
                            </div>
                        </div>
                        <div class="card stat-card">
                            <div class="stat-header">
                                <p class="stat-title">Tilt Risk</p>
                                <p class="stat-subtitle">Last 10 trades</p>
                            </div>
                            <div class="stat-value" id="tilt-risk">—</div>
                            <div class="stat-foot">
                                <span class="chip chip-neutral" id="tilt-note"
                                    >Monitor fatigue</span
                                >
                            </div>
                        </div>
                        <div class="card stat-card">
                            <div class="stat-header">
                                <p class="stat-title">Discipline Score</p>
                                <p class="stat-subtitle">Process alignment</p>
                            </div>
                            <div class="stat-value" id="discipline-score">—</div>
                            <div class="stat-foot">
                                <span class="chip chip-neutral"
                                    id="discipline-note"
                                    >Process focus</span
                                >
                            </div>
                        </div>
                    </div>

                    <div class="content-grid psychology-grid">
                        <div class="card rules-card">
                            <div class="card-header">
                                <div>
                                    <p class="card-title">Current Psychology Rules</p>
                                    <p class="card-subtitle">
                                        Universal rules pulled from your strategies
                                    </p>
                                </div>
                                <span class="badge">Universal</span>
                            </div>
                            <ul class="rule-list" id="psych-rules-list"></ul>
                            <div class="empty-state" id="psych-rules-empty">
                                No psychology rules yet. Add rules inside your
                                strategy builder to see them here.
                            </div>
                        </div>

                        <div class="card action-card">
                            <div class="card-header">
                                <div>
                                    <p class="card-title">Plan of Action</p>
                                    <p class="card-subtitle">
                                        Suggested actions plus your custom steps
                                    </p>
                                </div>
                                <span class="badge badge-soft">Editable</span>
                            </div>
                            <div class="action-input">
                                <input
                                    id="action-input"
                                    class="action-text-input"
                                    placeholder="Add your own psychology action..."
                                />
                                <button
                                    class="btn btn-primary btn-sm"
                                    id="action-add"
                                >
                                    Add
                                </button>
                            </div>
                            <div class="action-list" id="action-list"></div>
                        </div>

                        <div class="card analytics-card">
                            <div class="card-header">
                                <div>
                                    <p class="card-title">Psychology Analytics</p>
                                    <p class="card-subtitle">
                                        Emotion trends and rating over time
                                    </p>
                                </div>
                                <span class="chip chip-neutral" id="analytics-note"
                                    >Last 30 trades</span
                                >
                            </div>
                            <div class="chart-grid">
                                <div class="chart-card">
                                    <p class="chart-title">
                                        Psychology Rating Over Time
                                    </p>
                                    <div class="chart-wrap">
                                        <canvas id="rating-chart"></canvas>
                                        <div
                                            class="chart-empty"
                                            id="rating-empty"
                                        >
                                            No rating data yet
                                        </div>
                                    </div>
                                </div>
                                <div class="chart-card">
                                    <p class="chart-title">Emotion Mix</p>
                                    <div class="chart-wrap">
                                        <canvas id="emotion-mix-chart"></canvas>
                                        <div class="chart-empty" id="mix-empty">
                                            Add emotions on trades to unlock
                                            analytics
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="insight-row">
                                <div class="insight-item">
                                    <p class="insight-label">Top Trigger</p>
                                    <p class="insight-value" id="top-trigger">—</p>
                                </div>
                                <div class="insight-item">
                                    <p class="insight-label">Recovery Rate</p>
                                    <p class="insight-value" id="recovery-rate">—</p>
                                </div>
                                <div class="insight-item">
                                    <p class="insight-label">Consistency</p>
                                    <p class="insight-value" id="emotion-consistency"
                                        >—</p
                                    >
                                </div>
                            </div>
                        </div>

                        <div class="card connotation-card">
                            <div class="card-header">
                                <div>
                                    <p class="card-title">Emotion Connotation</p>
                                    <p class="card-subtitle">
                                        Map emotions to positive, neutral, or negative
                                    </p>
                                </div>
                            </div>
                            <div class="connotation-group">
                                <span class="chip chip-positive">Positive</span>
                                <div
                                    class="chip-list"
                                    id="connotation-positive"
                                ></div>
                            </div>
                            <div class="connotation-group">
                                <span class="chip chip-neutral">Neutral</span>
                                <div
                                    class="chip-list"
                                    id="connotation-neutral"
                                ></div>
                            </div>
                            <div class="connotation-group">
                                <span class="chip chip-negative">Negative</span>
                                <div
                                    class="chip-list"
                                    id="connotation-negative"
                                ></div>
                            </div>
                        </div>

                        <div class="card insights-card">
                            <div class="card-header">
                                <div>
                                    <p class="card-title">Psychological Insights</p>
                                    <p class="card-subtitle">
                                        Automated takeaways to guide adjustments
                                    </p>
                                </div>
                                <button class="btn btn-ghost btn-sm" id="insight-refresh">
                                    Refresh Insights
                                </button>
                            </div>
                            <ul class="insights-list" id="psych-insights"></ul>
                            <div class="empty-state" id="insights-empty">
                                Insights appear once you log emotions on trades.
                            </div>
                        </div>
                    </div>
                </section>
            </main>
        </div>

        <script>
            const toggleButton = document.getElementById("theme-toggle");
            const setTheme = (mode) => {
                document.body.classList.toggle("dark", mode === "dark");
                toggleButton.textContent =
                    mode === "dark" ? "Light mode" : "Dark mode";
                localStorage.setItem("dashboardTheme", mode);
            };

            const storedTheme = localStorage.getItem("dashboardTheme") || "light";
            setTheme(storedTheme);

            toggleButton.addEventListener("click", () => {
                const nextTheme = document.body.classList.contains("dark")
                    ? "light"
                    : "dark";
                setTheme(nextTheme);
            });
        </script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script src="/Shared/reports-nav.js"></script>
        <script src="/Shared/client-data-lite.js"></script>
        <script src="/Shared/sidebar-icons.js"></script>
        <script src="/Shared/mobile-nav.js"></script>
        <script src="/PsychologyRewrite/psychology.js"></script>
    </body>
</html>





